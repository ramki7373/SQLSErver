/* =========================================================
   SQL SERVER ESSENTIAL COMMANDS ‚Äì SINGLE SCRIPT WITH COMMENTS
   ========================================================= */

/* 1Ô∏è‚É£ CREATE TABLE
   Creates an Employees table with basic columns */
CREATE TABLE Employees (
    ID INT PRIMARY KEY,              -- Unique employee ID
    Name VARCHAR(50),                 -- Employee name
    Age INT,                          -- Employee age
    DepartmentID INT                 -- Department reference
);
GO


/* 2Ô∏è‚É£ INSERT
   Adds sample records into the Employees table */
INSERT INTO Employees (ID, Name, Age, DepartmentID)
VALUES 
(1, 'John Doe', 30, 101),
(2, 'Jane Smith', 28, 102),
(3, 'Mike Brown', 35, 101);
GO


/* 3Ô∏è‚É£ SELECT
   Retrieves all records from the Employees table */
SELECT * 
FROM Employees;
GO


/* 4Ô∏è‚É£ WHERE
   Filters employees older than 30 */
SELECT *
FROM Employees
WHERE Age > 30;
GO


/* 5Ô∏è‚É£ UPDATE
   Updates the age of a specific employee */
UPDATE Employees
SET Age = 31
WHERE ID = 1;
GO


/* 6Ô∏è‚É£ ORDER BY
   Sorts employees by age in descending order */
SELECT *
FROM Employees
ORDER BY Age DESC;
GO


/***** 7Ô∏è‚É£ GROUP BY with COUNT
   Groups employees by department and counts them */
SELECT DepartmentID, COUNT(*) AS EmployeeCount
FROM Employees
GROUP BY DepartmentID;
GO


/* 8Ô∏è‚É£ CREATE TABLE (Departments)
   Creates a second table to demonstrate JOIN */
CREATE TABLE Departments (
    DepartmentID INT PRIMARY KEY,
    DepartmentName VARCHAR(50)
);
GO


/* 9Ô∏è‚É£ INSERT INTO Departments */
INSERT INTO Departments (DepartmentID, DepartmentName)
VALUES
(101, 'IT'),
(102, 'HR');
GO


/* üîü JOIN
   Combines Employees and Departments tables */
SELECT e.Name, e.Age, d.DepartmentName
FROM Employees e
INNER JOIN Departments d
ON e.DepartmentID = d.DepartmentID;
GO


/* BONUS: DELETE
   Removes a specific employee record */
DELETE FROM Employees
WHERE ID = 3;
GO


/* BONUS: ALTER TABLE
   Adds a new column to the Employees table */
ALTER TABLE Employees
ADD Salary INT;
GO


/* BONUS: DROP TABLE
   Permanently deletes tables (use with caution) */
/*
DROP TABLE Employees;
DROP TABLE Departments;
*/
